import{r as l,p as ye,s as Ve,B as oe,e as K,a5 as He,y as De,a6 as xe,a7 as Ie,a8 as U,C as Ze,a9 as ke,aa as et,ab as tt,ac as nt,ad as rt,ae as ot,af as k,ag as lt,ah as $e,w as Ee,ai as at,A as it,_ as je,aj as st,ak as ct,E as ut,al as dt,am as mt,an as ft,ao as qe,ap as pt,aq as gt,ar as ht,as as bt,at as yt,au as xt,av as $t,aw as Ct,ax as vt,ay as wt,az as St,aA as Ot,aB as It,aC as Et,aD as jt,G as Ft,H as Nt,b as D,j as ie,T as Fe,L as Pt,Q as Ne,I as Rt,N as Mt}from"./index-f79488dc.js";import{P as Tt,a as _t}from"./axios-e7e47149.js";import{g as Lt}from"./collapse-97de76d4.js";import{u as Wt,a as At,r as ue}from"./useFlexGapSupport-8b11537b.js";import{I as Vt,B as Ht}from"./index-4ff138c1.js";import{S as Dt}from"./index-27683083.js";import{T as qt}from"./TagOutlined-807a6367.js";import"./Overflow-8b08e3b8.js";const Pe=e=>typeof e=="object"&&e!=null&&e.nodeType===1,Re=(e,t)=>(!t||e!=="hidden")&&e!=="visible"&&e!=="clip",ge=(e,t)=>{if(e.clientHeight<e.scrollHeight||e.clientWidth<e.scrollWidth){const r=getComputedStyle(e,null);return Re(r.overflowY,t)||Re(r.overflowX,t)||(n=>{const o=(a=>{if(!a.ownerDocument||!a.ownerDocument.defaultView)return null;try{return a.ownerDocument.defaultView.frameElement}catch{return null}})(n);return!!o&&(o.clientHeight<n.scrollHeight||o.clientWidth<n.scrollWidth)})(e)}return!1},se=(e,t,r,n,o,a,s,c)=>a<e&&s>t||a>e&&s<t?0:a<=e&&c<=r||s>=t&&c>=r?a-e-n:s>t&&c<r||a<e&&c>r?s-t+o:0,zt=e=>{const t=e.parentElement;return t??(e.getRootNode().host||null)},Me=(e,t)=>{var r,n,o,a;if(typeof document>"u")return[];const{scrollMode:s,block:c,inline:d,boundary:p,skipOverflowHiddenElements:h}=t,j=typeof p=="function"?p:W=>W!==p;if(!Pe(e))throw new TypeError("Invalid target");const M=document.scrollingElement||document.documentElement,u=[];let f=e;for(;Pe(f)&&j(f);){if(f=zt(f),f===M){u.push(f);break}f!=null&&f===document.body&&ge(f)&&!ge(document.documentElement)||f!=null&&ge(f,h)&&u.push(f)}const O=(n=(r=window.visualViewport)==null?void 0:r.width)!=null?n:innerWidth,E=(a=(o=window.visualViewport)==null?void 0:o.height)!=null?a:innerHeight,{scrollX:$,scrollY:i}=window,{height:C,width:w,top:x,right:I,bottom:g,left:y}=e.getBoundingClientRect();let m=c==="start"||c==="nearest"?x:c==="end"?g:x+C/2,b=d==="center"?y+w/2:d==="end"?I:y;const L=[];for(let W=0;W<u.length;W++){const v=u[W],{height:F,width:T,top:q,right:V,bottom:N,left:H}=v.getBoundingClientRect();if(s==="if-needed"&&x>=0&&y>=0&&g<=E&&I<=O&&x>=q&&g<=N&&y>=H&&I<=V)return L;const S=getComputedStyle(v),z=parseInt(S.borderLeftWidth,10),B=parseInt(S.borderTopWidth,10),G=parseInt(S.borderRightWidth,10),P=parseInt(S.borderBottomWidth,10);let _=0,R=0;const X="offsetWidth"in v?v.offsetWidth-v.clientWidth-z-G:0,Q="offsetHeight"in v?v.offsetHeight-v.clientHeight-B-P:0,J="offsetWidth"in v?v.offsetWidth===0?0:T/v.offsetWidth:0,ee="offsetHeight"in v?v.offsetHeight===0?0:F/v.offsetHeight:0;if(M===v)_=c==="start"?m:c==="end"?m-E:c==="nearest"?se(i,i+E,E,B,P,i+m,i+m+C,C):m-E/2,R=d==="start"?b:d==="center"?b-O/2:d==="end"?b-O:se($,$+O,O,z,G,$+b,$+b+w,w),_=Math.max(0,_+i),R=Math.max(0,R+$);else{_=c==="start"?m-q-B:c==="end"?m-N+P+Q:c==="nearest"?se(q,N,F,B,P+Q,m,m+C,C):m-(q+F/2)+Q/2,R=d==="start"?b-H-z:d==="center"?b-(H+T/2)+X/2:d==="end"?b-V+G+X:se(H,V,T,z,G+X,b,b+w,w);const{scrollLeft:Z,scrollTop:A}=v;_=Math.max(0,Math.min(A+_/ee,v.scrollHeight-F/ee+Q)),R=Math.max(0,Math.min(Z+R/J,v.scrollWidth-T/J+X)),m+=A-_,b+=Z-R}L.push({el:v,top:_,left:R})}return L},Bt=e=>e===!1?{block:"end",inline:"nearest"}:(t=>t===Object(t)&&Object.keys(t).length!==0)(e)?e:{block:"start",inline:"nearest"};function Gt(e,t){if(!e.isConnected||!(n=>{let o=n;for(;o&&o.parentNode;){if(o.parentNode===document)return!0;o=o.parentNode instanceof ShadowRoot?o.parentNode.host:o.parentNode}return!1})(e))return;if((n=>typeof n=="object"&&typeof n.behavior=="function")(t))return t.behavior(Me(e,t));const r=typeof t=="boolean"||t==null?void 0:t.behavior;for(const{el:n,top:o,left:a}of Me(e,Bt(t)))n.scroll({top:o,left:a,behavior:r})}const Xt=l.createContext({}),ze=Xt,Qt=e=>{const{componentCls:t}=e;return{[t]:{display:"flex",flexFlow:"row wrap",minWidth:0,"&::before, &::after":{display:"flex"},"&-no-wrap":{flexWrap:"nowrap"},"&-start":{justifyContent:"flex-start"},"&-center":{justifyContent:"center"},"&-end":{justifyContent:"flex-end"},"&-space-between":{justifyContent:"space-between"},"&-space-around":{justifyContent:"space-around"},"&-space-evenly":{justifyContent:"space-evenly"},"&-top":{alignItems:"flex-start"},"&-middle":{alignItems:"center"},"&-bottom":{alignItems:"flex-end"}}}},Ut=e=>{const{componentCls:t}=e;return{[t]:{position:"relative",maxWidth:"100%",minHeight:1}}},Kt=(e,t)=>{const{componentCls:r,gridColumns:n}=e,o={};for(let a=n;a>=0;a--)a===0?(o[`${r}${t}-${a}`]={display:"none"},o[`${r}-push-${a}`]={insetInlineStart:"auto"},o[`${r}-pull-${a}`]={insetInlineEnd:"auto"},o[`${r}${t}-push-${a}`]={insetInlineStart:"auto"},o[`${r}${t}-pull-${a}`]={insetInlineEnd:"auto"},o[`${r}${t}-offset-${a}`]={marginInlineStart:0},o[`${r}${t}-order-${a}`]={order:0}):(o[`${r}${t}-${a}`]={display:"block",flex:`0 0 ${a/n*100}%`,maxWidth:`${a/n*100}%`},o[`${r}${t}-push-${a}`]={insetInlineStart:`${a/n*100}%`},o[`${r}${t}-pull-${a}`]={insetInlineEnd:`${a/n*100}%`},o[`${r}${t}-offset-${a}`]={marginInlineStart:`${a/n*100}%`},o[`${r}${t}-order-${a}`]={order:a});return o},be=(e,t)=>Kt(e,t),Yt=(e,t,r)=>({[`@media (min-width: ${t}px)`]:Object.assign({},be(e,r))}),Jt=ye("Grid",e=>[Qt(e)]),Zt=ye("Grid",e=>{const t=Ve(e,{gridColumns:24}),r={"-sm":t.screenSMMin,"-md":t.screenMDMin,"-lg":t.screenLGMin,"-xl":t.screenXLMin,"-xxl":t.screenXXLMin};return[Ut(t),be(t,""),be(t,"-xs"),Object.keys(r).map(n=>Yt(t,r[n],n)).reduce((n,o)=>Object.assign(Object.assign({},n),o),{})]});var kt=globalThis&&globalThis.__rest||function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(r[n[o]]=e[n[o]]);return r};function en(e){return typeof e=="number"?`${e} ${e} auto`:/^\d+(\.\d+)?(px|em|rem|%)$/.test(e)?`0 0 ${e}`:e}const tn=["xs","sm","md","lg","xl","xxl"],nn=l.forwardRef((e,t)=>{const{getPrefixCls:r,direction:n}=l.useContext(oe),{gutter:o,wrap:a,supportFlexGap:s}=l.useContext(ze),{prefixCls:c,span:d,order:p,offset:h,push:j,pull:M,className:u,children:f,flex:O,style:E}=e,$=kt(e,["prefixCls","span","order","offset","push","pull","className","children","flex","style"]),i=r("col",c),[C,w]=Zt(i);let x={};tn.forEach(y=>{let m={};const b=e[y];typeof b=="number"?m.span=b:typeof b=="object"&&(m=b||{}),delete $[y],x=Object.assign(Object.assign({},x),{[`${i}-${y}-${m.span}`]:m.span!==void 0,[`${i}-${y}-order-${m.order}`]:m.order||m.order===0,[`${i}-${y}-offset-${m.offset}`]:m.offset||m.offset===0,[`${i}-${y}-push-${m.push}`]:m.push||m.push===0,[`${i}-${y}-pull-${m.pull}`]:m.pull||m.pull===0,[`${i}-${y}-flex-${m.flex}`]:m.flex||m.flex==="auto",[`${i}-rtl`]:n==="rtl"})});const I=K(i,{[`${i}-${d}`]:d!==void 0,[`${i}-order-${p}`]:p,[`${i}-offset-${h}`]:h,[`${i}-push-${j}`]:j,[`${i}-pull-${M}`]:M},u,x,w),g={};if(o&&o[0]>0){const y=o[0]/2;g.paddingLeft=y,g.paddingRight=y}if(o&&o[1]>0&&!s){const y=o[1]/2;g.paddingTop=y,g.paddingBottom=y}return O&&(g.flex=en(O),a===!1&&!g.minWidth&&(g.minWidth=0)),C(l.createElement("div",Object.assign({},$,{style:Object.assign(Object.assign({},g),E),className:I,ref:t}),f))}),Be=nn;var rn=globalThis&&globalThis.__rest||function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(r[n[o]]=e[n[o]]);return r};function Te(e,t){const[r,n]=l.useState(typeof e=="string"?e:""),o=()=>{if(typeof e=="string"&&n(e),typeof e=="object")for(let a=0;a<ue.length;a++){const s=ue[a];if(!t[s])continue;const c=e[s];if(c!==void 0){n(c);return}}};return l.useEffect(()=>{o()},[JSON.stringify(e),t]),r}const on=l.forwardRef((e,t)=>{const{prefixCls:r,justify:n,align:o,className:a,style:s,children:c,gutter:d=0,wrap:p}=e,h=rn(e,["prefixCls","justify","align","className","style","children","gutter","wrap"]),{getPrefixCls:j,direction:M}=l.useContext(oe),[u,f]=l.useState({xs:!0,sm:!0,md:!0,lg:!0,xl:!0,xxl:!0}),[O,E]=l.useState({xs:!1,sm:!1,md:!1,lg:!1,xl:!1,xxl:!1}),$=Te(o,O),i=Te(n,O),C=Wt(),w=l.useRef(d),x=At();l.useEffect(()=>{const N=x.subscribe(H=>{E(H);const S=w.current||0;(!Array.isArray(S)&&typeof S=="object"||Array.isArray(S)&&(typeof S[0]=="object"||typeof S[1]=="object"))&&f(H)});return()=>x.unsubscribe(N)},[]);const I=()=>{const N=[void 0,void 0];return(Array.isArray(d)?d:[d,void 0]).forEach((S,z)=>{if(typeof S=="object")for(let B=0;B<ue.length;B++){const G=ue[B];if(u[G]&&S[G]!==void 0){N[z]=S[G];break}}else N[z]=S}),N},g=j("row",r),[y,m]=Jt(g),b=I(),L=K(g,{[`${g}-no-wrap`]:p===!1,[`${g}-${i}`]:i,[`${g}-${$}`]:$,[`${g}-rtl`]:M==="rtl"},a,m),W={},v=b[0]!=null&&b[0]>0?b[0]/-2:void 0,F=b[1]!=null&&b[1]>0?b[1]/-2:void 0;v&&(W.marginLeft=v,W.marginRight=v),C?[,W.rowGap]=b:F&&(W.marginTop=F,W.marginBottom=F);const[T,q]=b,V=l.useMemo(()=>({gutter:[T,q],wrap:p,supportFlexGap:C}),[T,q,p,C]);return y(l.createElement(ze.Provider,{value:V},l.createElement("div",Object.assign({},h,{className:L,style:Object.assign(Object.assign({},W),s),ref:t}),c)))}),ln=on;function de(e){const[t,r]=l.useState(e);return l.useEffect(()=>{const n=setTimeout(()=>{r(e)},e.length?0:10);return()=>{clearTimeout(n)}},[e]),t}const an=e=>{const{componentCls:t}=e,r=`${t}-show-help`,n=`${t}-show-help-item`;return{[r]:{transition:`opacity ${e.motionDurationSlow} ${e.motionEaseInOut}`,"&-appear, &-enter":{opacity:0,"&-active":{opacity:1}},"&-leave":{opacity:1,"&-active":{opacity:0}},[n]:{overflow:"hidden",transition:`height ${e.motionDurationSlow} ${e.motionEaseInOut},
                     opacity ${e.motionDurationSlow} ${e.motionEaseInOut},
                     transform ${e.motionDurationSlow} ${e.motionEaseInOut} !important`,[`&${n}-appear, &${n}-enter`]:{transform:"translateY(-5px)",opacity:0,["&-active"]:{transform:"translateY(0)",opacity:1}},[`&${n}-leave-active`]:{transform:"translateY(-5px)"}}}}},sn=an,cn=e=>({legend:{display:"block",width:"100%",marginBottom:e.marginLG,padding:0,color:e.colorTextDescription,fontSize:e.fontSizeLG,lineHeight:"inherit",border:0,borderBottom:`${e.lineWidth}px ${e.lineType} ${e.colorBorder}`},label:{fontSize:e.fontSize},'input[type="search"]':{boxSizing:"border-box"},'input[type="radio"], input[type="checkbox"]':{lineHeight:"normal"},'input[type="file"]':{display:"block"},'input[type="range"]':{display:"block",width:"100%"},"select[multiple], select[size]":{height:"auto"},[`input[type='file']:focus,
  input[type='radio']:focus,
  input[type='checkbox']:focus`]:{outline:0,boxShadow:`0 0 0 ${e.controlOutlineWidth}px ${e.controlOutline}`},output:{display:"block",paddingTop:15,color:e.colorText,fontSize:e.fontSize,lineHeight:e.lineHeight}}),_e=(e,t)=>{const{formItemCls:r}=e;return{[r]:{[`${r}-label > label`]:{height:t},[`${r}-control-input`]:{minHeight:t}}}},un=e=>{const{componentCls:t}=e;return{[e.componentCls]:Object.assign(Object.assign(Object.assign({},De(e)),cn(e)),{[`${t}-text`]:{display:"inline-block",paddingInlineEnd:e.paddingSM},"&-small":Object.assign({},_e(e,e.controlHeightSM)),"&-large":Object.assign({},_e(e,e.controlHeightLG))})}},dn=e=>{const{formItemCls:t,iconCls:r,componentCls:n,rootPrefixCls:o}=e;return{[t]:Object.assign(Object.assign({},De(e)),{marginBottom:e.marginLG,verticalAlign:"top","&-with-help":{transition:"none"},[`&-hidden,
        &-hidden.${o}-row`]:{display:"none"},"&-has-warning":{[`${t}-split`]:{color:e.colorError}},"&-has-error":{[`${t}-split`]:{color:e.colorWarning}},[`${t}-label`]:{display:"inline-block",flexGrow:0,overflow:"hidden",whiteSpace:"nowrap",textAlign:"end",verticalAlign:"middle","&-left":{textAlign:"start"},"&-wrap":{overflow:"unset",lineHeight:`${e.lineHeight} - 0.25em`,whiteSpace:"unset"},"> label":{position:"relative",display:"inline-flex",alignItems:"center",maxWidth:"100%",height:e.controlHeight,color:e.colorTextHeading,fontSize:e.fontSize,[`> ${r}`]:{fontSize:e.fontSize,verticalAlign:"top"},[`&${t}-required:not(${t}-required-mark-optional)::before`]:{display:"inline-block",marginInlineEnd:e.marginXXS,color:e.colorError,fontSize:e.fontSize,fontFamily:"SimSun, sans-serif",lineHeight:1,content:'"*"',[`${n}-hide-required-mark &`]:{display:"none"}},[`${t}-optional`]:{display:"inline-block",marginInlineStart:e.marginXXS,color:e.colorTextDescription,[`${n}-hide-required-mark &`]:{display:"none"}},[`${t}-tooltip`]:{color:e.colorTextDescription,cursor:"help",writingMode:"horizontal-tb",marginInlineStart:e.marginXXS},"&::after":{content:'":"',position:"relative",marginBlock:0,marginInlineStart:e.marginXXS/2,marginInlineEnd:e.marginXS},[`&${t}-no-colon::after`]:{content:'" "'}}},[`${t}-control`]:{display:"flex",flexDirection:"column",flexGrow:1,[`&:first-child:not([class^="'${o}-col-'"]):not([class*="' ${o}-col-'"])`]:{width:"100%"},"&-input":{position:"relative",display:"flex",alignItems:"center",minHeight:e.controlHeight,"&-content":{flex:"auto",maxWidth:"100%"}}},[t]:{"&-explain, &-extra":{clear:"both",color:e.colorTextDescription,fontSize:e.fontSize,lineHeight:e.lineHeight},"&-explain-connected":{width:"100%"},"&-extra":{minHeight:e.controlHeightSM,transition:`color ${e.motionDurationMid} ${e.motionEaseOut}`},"&-explain":{"&-error":{color:e.colorError},"&-warning":{color:e.colorWarning}}},[`&-with-help ${t}-explain`]:{height:"auto",opacity:1},[`${t}-feedback-icon`]:{fontSize:e.fontSize,textAlign:"center",visibility:"visible",animationName:He,animationDuration:e.motionDurationMid,animationTimingFunction:e.motionEaseOutBack,pointerEvents:"none","&-success":{color:e.colorSuccess},"&-error":{color:e.colorError},"&-warning":{color:e.colorWarning},"&-validating":{color:e.colorPrimary}}})}},mn=e=>{const{componentCls:t,formItemCls:r,rootPrefixCls:n}=e;return{[`${t}-horizontal`]:{[`${r}-label`]:{flexGrow:0},[`${r}-control`]:{flex:"1 1 0",minWidth:0},[`${r}-label.${n}-col-24 + ${r}-control`]:{minWidth:"unset"}}}},fn=e=>{const{componentCls:t,formItemCls:r}=e;return{[`${t}-inline`]:{display:"flex",flexWrap:"wrap",[r]:{flex:"none",marginInlineEnd:e.margin,marginBottom:0,"&-row":{flexWrap:"nowrap"},"&-with-help":{marginBottom:e.marginLG},[`> ${r}-label,
        > ${r}-control`]:{display:"inline-block",verticalAlign:"top"},[`> ${r}-label`]:{flex:"none"},[`${t}-text`]:{display:"inline-block"},[`${r}-has-feedback`]:{display:"inline-block"}}}}},ne=e=>({margin:0,padding:`0 0 ${e.paddingXS}px`,whiteSpace:"initial",textAlign:"start","> label":{margin:0,"&::after":{display:"none"}}}),pn=e=>{const{componentCls:t,formItemCls:r}=e;return{[`${r} ${r}-label`]:ne(e),[t]:{[r]:{flexWrap:"wrap",[`${r}-label,
          ${r}-control`]:{flex:"0 0 100%",maxWidth:"100%"}}}}},gn=e=>{const{componentCls:t,formItemCls:r,rootPrefixCls:n}=e;return{[`${t}-vertical`]:{[r]:{"&-row":{flexDirection:"column"},"&-label > label":{height:"auto"},[`${t}-item-control`]:{width:"100%"}}},[`${t}-vertical ${r}-label,
      .${n}-col-24${r}-label,
      .${n}-col-xl-24${r}-label`]:ne(e),[`@media (max-width: ${e.screenXSMax}px)`]:[pn(e),{[t]:{[`.${n}-col-xs-24${r}-label`]:ne(e)}}],[`@media (max-width: ${e.screenSMMax}px)`]:{[t]:{[`.${n}-col-sm-24${r}-label`]:ne(e)}},[`@media (max-width: ${e.screenMDMax}px)`]:{[t]:{[`.${n}-col-md-24${r}-label`]:ne(e)}},[`@media (max-width: ${e.screenLGMax}px)`]:{[t]:{[`.${n}-col-lg-24${r}-label`]:ne(e)}}}},Ce=ye("Form",(e,t)=>{let{rootPrefixCls:r}=t;const n=Ve(e,{formItemCls:`${e.componentCls}-item`,rootPrefixCls:r});return[un(n),dn(n),sn(n),mn(n),fn(n),gn(n),Lt(n),He]}),Le=[];function he(e,t,r){let n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0;return{key:typeof e=="string"?e:`${t}-${n}`,error:e,errorStatus:r}}function Ge(e){let{help:t,helpStatus:r,errors:n=Le,warnings:o=Le,className:a,fieldId:s,onVisibleChanged:c}=e;const{prefixCls:d}=l.useContext(xe),p=`${d}-item-explain`,[,h]=Ce(d),j=l.useMemo(()=>Ie(d),[d]),M=de(n),u=de(o),f=l.useMemo(()=>t!=null?[he(t,"help",r)]:[].concat(U(M.map((E,$)=>he(E,"error","error",$))),U(u.map((E,$)=>he(E,"warning","warning",$)))),[t,r,M,u]),O={};return s&&(O.id=`${s}_help`),l.createElement(Ze,{motionDeadline:j.motionDeadline,motionName:`${d}-show-help`,visible:!!f.length,onVisibleChanged:c},E=>{const{className:$,style:i}=E;return l.createElement("div",Object.assign({},O,{className:K(p,$,a,h),style:i,role:"alert"}),l.createElement(ke,Object.assign({keys:f},Ie(d),{motionName:`${d}-show-help-item`,component:!1}),C=>{const{key:w,error:x,errorStatus:I,className:g,style:y}=C;return l.createElement("div",{key:w,className:K(g,{[`${p}-${I}`]:I}),style:y},x)}))})}const hn=["parentNode"],bn="form_item";function re(e){return e===void 0||e===!1?[]:Array.isArray(e)?e:[e]}function Xe(e,t){if(!e.length)return;const r=e.join("_");return t?`${t}_${r}`:hn.includes(r)?`${bn}_${r}`:r}function We(e){return re(e).join("_")}function Qe(e){const[t]=et(),r=l.useRef({}),n=l.useMemo(()=>e??Object.assign(Object.assign({},t),{__INTERNAL__:{itemRef:o=>a=>{const s=We(o);a?r.current[s]=a:delete r.current[s]}},scrollToField:function(o){let a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const s=re(o),c=Xe(s,n.__INTERNAL__.name),d=c?document.getElementById(c):null;d&&Gt(d,Object.assign({scrollMode:"if-needed",block:"nearest"},a))},getFieldInstance:o=>{const a=We(o);return r.current[a]}}),[e,t]);return[n]}var yn=globalThis&&globalThis.__rest||function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(r[n[o]]=e[n[o]]);return r};const xn=(e,t)=>{const r=l.useContext(tt),n=l.useContext(nt),{getPrefixCls:o,direction:a,form:s}=l.useContext(oe),{prefixCls:c,className:d,rootClassName:p,size:h=r,disabled:j=n,form:M,colon:u,labelAlign:f,labelWrap:O,labelCol:E,wrapperCol:$,hideRequiredMark:i,layout:C="horizontal",scrollToFirstError:w,requiredMark:x,onFinishFailed:I,name:g}=e,y=yn(e,["prefixCls","className","rootClassName","size","disabled","form","colon","labelAlign","labelWrap","labelCol","wrapperCol","hideRequiredMark","layout","scrollToFirstError","requiredMark","onFinishFailed","name"]),m=l.useMemo(()=>x!==void 0?x:s&&s.requiredMark!==void 0?s.requiredMark:!i,[i,x,s]),b=u??(s==null?void 0:s.colon),L=o("form",c),[W,v]=Ce(L),F=K(L,{[`${L}-${C}`]:!0,[`${L}-hide-required-mark`]:m===!1,[`${L}-rtl`]:a==="rtl",[`${L}-${h}`]:h},v,d,p),[T]=Qe(M),{__INTERNAL__:q}=T;q.name=g;const V=l.useMemo(()=>({name:g,labelAlign:f,labelCol:E,labelWrap:O,wrapperCol:$,vertical:C==="vertical",colon:b,requiredMark:m,itemRef:q.itemRef,form:T}),[g,f,E,$,C,b,m,T]);l.useImperativeHandle(t,()=>T);const N=(S,z)=>{if(S){let B={block:"nearest"};typeof S=="object"&&(B=S),T.scrollToField(z,B)}},H=S=>{if(I==null||I(S),S.errorFields.length){const z=S.errorFields[0].name;if(w!==void 0){N(w,z);return}s&&s.scrollToFirstError!==void 0&&N(s.scrollToFirstError,z)}};return W(l.createElement(rt,{disabled:j},l.createElement(ot,{size:h},l.createElement(k.Provider,{value:V},l.createElement(lt,Object.assign({id:g},y,{name:g,onFinishFailed:H,form:T,className:F}))))))},$n=l.forwardRef(xn),Cn=$n,Ue=()=>{const{status:e,errors:t=[],warnings:r=[]}=l.useContext($e);return{status:e,errors:t,warnings:r}};Ue.Context=$e;const vn=Ue;function wn(e){const[t,r]=l.useState(e),n=l.useRef(null),o=l.useRef([]),a=l.useRef(!1);l.useEffect(()=>(a.current=!1,()=>{a.current=!0,Ee.cancel(n.current),n.current=null}),[]);function s(c){a.current||(n.current===null&&(o.current=[],n.current=Ee(()=>{n.current=null,r(d=>{let p=d;return o.current.forEach(h=>{p=h(p)}),p})})),o.current.push(c))}return[t,s]}function Sn(){const{itemRef:e}=l.useContext(k),t=l.useRef({});function r(n,o){const a=o&&typeof o=="object"&&o.ref,s=n.join("_");return(t.current.name!==s||t.current.originRef!==a)&&(t.current.name=s,t.current.originRef=a,t.current.ref=at(e(n),a)),t.current.ref}return r}const On=e=>{const{prefixCls:t,status:r,wrapperCol:n,children:o,errors:a,warnings:s,_internalItemRender:c,extra:d,help:p,fieldId:h,marginBottom:j,onErrorVisibleChanged:M}=e,u=`${t}-item`,f=l.useContext(k),O=n||f.wrapperCol||{},E=K(`${u}-control`,O.className),$=l.useMemo(()=>Object.assign({},f),[f]);delete $.labelCol,delete $.wrapperCol;const i=l.createElement("div",{className:`${u}-control-input`},l.createElement("div",{className:`${u}-control-input-content`},o)),C=l.useMemo(()=>({prefixCls:t,status:r}),[t,r]),w=j!==null||a.length||s.length?l.createElement("div",{style:{display:"flex",flexWrap:"nowrap"}},l.createElement(xe.Provider,{value:C},l.createElement(Ge,{fieldId:h,errors:a,warnings:s,help:p,helpStatus:r,className:`${u}-explain-connected`,onVisibleChanged:M})),!!j&&l.createElement("div",{style:{width:0,height:j}})):null,x={};h&&(x.id=`${h}_extra`);const I=d?l.createElement("div",Object.assign({},x,{className:`${u}-extra`}),d):null,g=c&&c.mark==="pro_table_render"&&c.render?c.render(e,{input:i,errorList:w,extra:I}):l.createElement(l.Fragment,null,i,w,I);return l.createElement(k.Provider,{value:$},l.createElement(Be,Object.assign({},O,{className:E}),g))},In=On;var En={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}},{tag:"path",attrs:{d:"M623.6 316.7C593.6 290.4 554 276 512 276s-81.6 14.5-111.6 40.7C369.2 344 352 380.7 352 420v7.6c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V420c0-44.1 43.1-80 96-80s96 35.9 96 80c0 31.1-22 59.6-56.1 72.7-21.2 8.1-39.2 22.3-52.1 40.9-13.1 19-19.9 41.8-19.9 64.9V620c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8v-22.7a48.3 48.3 0 0130.9-44.8c59-22.7 97.1-74.7 97.1-132.5.1-39.3-17.1-76-48.3-103.3zM472 732a40 40 0 1080 0 40 40 0 10-80 0z"}}]},name:"question-circle",theme:"outlined"};const jn=En;var Ke=function(t,r){return l.createElement(it,je(je({},t),{},{ref:r,icon:jn}))};Ke.displayName="QuestionCircleOutlined";const Fn=l.forwardRef(Ke);var Nn=globalThis&&globalThis.__rest||function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(r[n[o]]=e[n[o]]);return r};function Pn(e){return e?typeof e=="object"&&!l.isValidElement(e)?e:{title:e}:null}const Rn=e=>{let{prefixCls:t,label:r,htmlFor:n,labelCol:o,labelAlign:a,colon:s,required:c,requiredMark:d,tooltip:p}=e;var h;const[j]=st("Form"),{vertical:M,labelAlign:u,labelCol:f,labelWrap:O,colon:E}=l.useContext(k);if(!r)return null;const $=o||f||{},i=a||u,C=`${t}-item-label`,w=K(C,i==="left"&&`${C}-left`,$.className,{[`${C}-wrap`]:!!O});let x=r;const I=s===!0||E!==!1&&s!==!1;I&&!M&&typeof r=="string"&&r.trim()!==""&&(x=r.replace(/[:|：]\s*$/,""));const y=Pn(p);if(y){const{icon:b=l.createElement(Fn,null)}=y,L=Nn(y,["icon"]),W=l.createElement(ct,Object.assign({},L),l.cloneElement(b,{className:`${t}-item-tooltip`,title:""}));x=l.createElement(l.Fragment,null,x,W)}d==="optional"&&!c&&(x=l.createElement(l.Fragment,null,x,l.createElement("span",{className:`${t}-item-optional`,title:""},(j==null?void 0:j.optional)||((h=ut.Form)===null||h===void 0?void 0:h.optional))));const m=K({[`${t}-item-required`]:c,[`${t}-item-required-mark-optional`]:d==="optional",[`${t}-item-no-colon`]:!I});return l.createElement(Be,Object.assign({},$,{className:w}),l.createElement("label",{htmlFor:n,className:m,title:typeof r=="string"?r:""},x))},Mn=Rn;var Tn=globalThis&&globalThis.__rest||function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(r[n[o]]=e[n[o]]);return r};const _n={success:pt,warning:gt,error:ht,validating:bt};function Ln(e){const{prefixCls:t,className:r,rootClassName:n,style:o,help:a,errors:s,warnings:c,validateStatus:d,meta:p,hasFeedback:h,hidden:j,children:M,fieldId:u,required:f,isRequired:O,onSubItemMetaChange:E}=e,$=Tn(e,["prefixCls","className","rootClassName","style","help","errors","warnings","validateStatus","meta","hasFeedback","hidden","children","fieldId","required","isRequired","onSubItemMetaChange"]),i=`${t}-item`,{requiredMark:C}=l.useContext(k),w=l.useRef(null),x=de(s),I=de(c),g=a!=null,y=!!(g||s.length||c.length),m=!!w.current&&dt(w.current),[b,L]=l.useState(null);mt(()=>{if(y&&w.current){const V=getComputedStyle(w.current);L(parseInt(V.marginBottom,10))}},[y,m]);const W=V=>{V||L(null)},F=function(){let V=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,N="";const H=V?x:p.errors,S=V?I:p.warnings;return d!==void 0?N=d:p.validating?N="validating":H.length?N="error":S.length?N="warning":(p.touched||h&&p.validated)&&(N="success"),N}(),T=l.useMemo(()=>{let V;if(h){const N=F&&_n[F];V=N?l.createElement("span",{className:K(`${i}-feedback-icon`,`${i}-feedback-icon-${F}`)},l.createElement(N,null)):null}return{status:F,errors:s,warnings:c,hasFeedback:h,feedbackIcon:V,isFormItemInput:!0}},[F,h]),q=K(i,r,n,{[`${i}-with-help`]:g||x.length||I.length,[`${i}-has-feedback`]:F&&h,[`${i}-has-success`]:F==="success",[`${i}-has-warning`]:F==="warning",[`${i}-has-error`]:F==="error",[`${i}-is-validating`]:F==="validating",[`${i}-hidden`]:j});return l.createElement("div",{className:q,style:o,ref:w},l.createElement(ln,Object.assign({className:`${i}-row`},ft($,["_internalItemRender","colon","dependencies","extra","fieldKey","getValueFromEvent","getValueProps","htmlFor","id","initialValue","isListField","label","labelAlign","labelCol","labelWrap","messageVariables","name","normalize","noStyle","preserve","requiredMark","rules","shouldUpdate","trigger","tooltip","validateFirst","validateTrigger","valuePropName","wrapperCol"])),l.createElement(Mn,Object.assign({htmlFor:u},e,{requiredMark:C,required:f??O,prefixCls:t})),l.createElement(In,Object.assign({},e,p,{errors:x,warnings:I,prefixCls:t,status:F,help:a,marginBottom:b,onErrorVisibleChanged:W}),l.createElement(qe.Provider,{value:E},l.createElement($e.Provider,{value:T},M)))),!!b&&l.createElement("div",{className:`${i}-margin-offset`,style:{marginBottom:-b}}))}function Wn(e){if(typeof e=="function")return e;const t=yt(e);return t.length<=1?t[0]:t}const An="__SPLIT__",Vn=l.memo(e=>{let{children:t}=e;return t},(e,t)=>e.value===t.value&&e.update===t.update&&e.childProps.length===t.childProps.length&&e.childProps.every((r,n)=>r===t.childProps[n]));function Hn(e){return e!=null}function Ae(){return{errors:[],warnings:[],touched:!1,validating:!1,name:[],validated:!1}}function Dn(e){const{name:t,noStyle:r,className:n,dependencies:o,prefixCls:a,shouldUpdate:s,rules:c,children:d,required:p,label:h,messageVariables:j,trigger:M="onChange",validateTrigger:u,hidden:f,help:O}=e,{getPrefixCls:E}=l.useContext(oe),{name:$}=l.useContext(k),i=Wn(d),C=typeof i=="function",w=l.useContext(qe),{validateTrigger:x}=l.useContext(xt),I=u!==void 0?u:x,g=Hn(t),y=E("form",a),[m,b]=Ce(y),L=l.useContext($t),W=l.useRef(),[v,F]=wn({}),[T,q]=Ct(()=>Ae()),V=P=>{const _=L==null?void 0:L.getKey(P.name);if(q(P.destroy?Ae():P,!0),r&&O!==!1&&w){let R=P.name;if(P.destroy)R=W.current||R;else if(_!==void 0){const[X,Q]=_;R=[X].concat(U(Q)),W.current=R}w(P,R)}},N=(P,_)=>{F(R=>{const X=Object.assign({},R),J=[].concat(U(P.name.slice(0,-1)),U(_)).join(An);return P.destroy?delete X[J]:X[J]=P,X})},[H,S]=l.useMemo(()=>{const P=U(T.errors),_=U(T.warnings);return Object.values(v).forEach(R=>{P.push.apply(P,U(R.errors||[])),_.push.apply(_,U(R.warnings||[]))}),[P,_]},[v,T.errors,T.warnings]),z=Sn();function B(P,_,R){return r&&!f?P:l.createElement(Ln,Object.assign({key:"row"},e,{className:K(n,b),prefixCls:y,fieldId:_,isRequired:R,errors:H,warnings:S,meta:T,onSubItemMetaChange:N}),P)}if(!g&&!C&&!o)return m(B(i));let G={};return typeof h=="string"?G.label=h:t&&(G.label=String(t)),j&&(G=Object.assign(Object.assign({},G),j)),m(l.createElement(vt,Object.assign({},e,{messageVariables:G,trigger:M,validateTrigger:I,onMetaChange:V}),(P,_,R)=>{const X=re(t).length&&_?_.name:[],Q=Xe(X,$),J=p!==void 0?p:!!(c&&c.some(A=>{if(A&&typeof A=="object"&&A.required&&!A.warningOnly)return!0;if(typeof A=="function"){const le=A(R);return le&&le.required&&!le.warningOnly}return!1})),ee=Object.assign({},P);let Z=null;if(Array.isArray(i)&&g)Z=i;else if(!(C&&(!(s||o)||g))){if(!(o&&!C&&!g))if(wt(i)){const A=Object.assign(Object.assign({},i.props),ee);if(A.id||(A.id=Q),O||H.length>0||S.length>0||e.extra){const te=[];(O||H.length>0)&&te.push(`${Q}_help`),e.extra&&te.push(`${Q}_extra`),A["aria-describedby"]=te.join(" ")}H.length>0&&(A["aria-invalid"]="true"),J&&(A["aria-required"]="true"),St(i)&&(A.ref=z(X,i)),new Set([].concat(U(re(M)),U(re(I)))).forEach(te=>{A[te]=function(){for(var ve,we,me,Se,fe,Oe=arguments.length,pe=new Array(Oe),ae=0;ae<Oe;ae++)pe[ae]=arguments[ae];(me=ee[te])===null||me===void 0||(ve=me).call.apply(ve,[ee].concat(pe)),(fe=(Se=i.props)[te])===null||fe===void 0||(we=fe).call.apply(we,[Se].concat(pe))}});const Je=[A["aria-required"],A["aria-invalid"],A["aria-describedby"]];Z=l.createElement(Vn,{value:ee[e.valuePropName||"value"],update:i,childProps:Je},Ot(i,A))}else C&&(s||o)&&!g?Z=i(R):Z=i}return B(Z,Q,J)}))}const Ye=Dn;Ye.useStatus=vn;const qn=Ye;var zn=globalThis&&globalThis.__rest||function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(r[n[o]]=e[n[o]]);return r};const Bn=e=>{var{prefixCls:t,children:r}=e,n=zn(e,["prefixCls","children"]);const{getPrefixCls:o}=l.useContext(oe),a=o("form",t),s=l.useMemo(()=>({prefixCls:a,status:"error"}),[a]);return l.createElement(It,Object.assign({},n),(c,d,p)=>l.createElement(xe.Provider,{value:s},r(c.map(h=>Object.assign(Object.assign({},h),{fieldKey:h.key})),d,{errors:p.errors,warnings:p.warnings})))},Gn=Bn;function Xn(){const{form:e}=l.useContext(k);return e}const Y=Cn;Y.Item=qn;Y.List=Gn;Y.ErrorList=Ge;Y.useForm=Qe;Y.useFormInstance=Xn;Y.useWatch=Et;Y.Provider=jt;Y.create=()=>{};const ce=Y,Qn=e=>new Promise(t=>{const r=new FileReader;r.onload=n=>{t(n.target.result)},r.readAsDataURL(e)});function nr(){const[e,t]=l.useState({}),[r,n]=l.useState([]),[o,a]=l.useState(!1),[s,c]=l.useState(!1),[d,p]=l.useState(),h=u=>{if(!u){p("");return}Qn(u).then(f=>{p(f),t({...e,file:u})})},j=Ft();Nt(Mt,{onCompleted:u=>{n(u.getAllTagLabels)},onError:({graphQLErrors:u})=>{Rt(u,"tags")}}),l.useEffect(()=>{!e.tags||e.tags.length===0||!e.file?c(!1):c(!0)},[e.tags,e.file]);function M(){a(!0);let u=new FormData;u.append("message",e.message?e.message:""),u.append("tags",JSON.stringify(e.tags.map(f=>f.value))),u.append("file",e.file),_t.post("/createPost",u,{headers:{"content-type":"multipart/form-data",Accept:"multipart/form-data"}}).then(f=>{f.data&&f.data._id&&(a(!1),j(`/${f.data._id}`),Ne.success("Post created"))}).catch(()=>{Ne.error("There was a problem creating the post")})}return D("div",{sx:{height:"100%",width:"100%",display:"flex",flexDirection:"column",alignItems:"center"},children:D("div",{sx:{height:"100%",width:"100%",maxWidth:"800px",display:"flex",flexDirection:"column",alignItems:"center"},children:ie(ce,{layout:"vertical",style:{paddingBottom:"1rem",width:"100%"},title:"Create Post",children:[D(ce.Item,{name:"message",label:D(Fe.Title,{level:4,style:{marginBottom:"0.25rem"},children:"Message"}),children:D(Vt,{placeholder:"Ex. Here is a fun description about this image",onChange:u=>{t({...e,message:u.target.value})},allowClear:!0})}),D(ce.Item,{name:"tags",label:D(Fe.Title,{level:4,style:{marginBottom:"0.25rem",marginTop:0},children:"Tags"}),required:!0,children:D(Dt,{mode:"tags",allowClear:!0,style:{width:"100%"},placeholder:ie("div",{sx:{height:"fit-content",width:"100%",display:"flex",alignItems:"center"},children:[D(qt,{className:"site-form-item-icon",style:{marginRight:"0.5rem"}}),"Ex. landspeeder"]}),tagRender:u=>Pt(u),onChange:u=>{t({...e,tags:u})},optionFilterProp:"label",fieldNames:{value:"label"},labelInValue:!0,options:r,value:e.tags,notFoundContent:null})}),D(ce.Item,{children:ie("div",{sx:{display:"flex",width:"100%",flexDirection:"column",marginBottom:"0.5rem"},children:[ie("label",{htmlFor:"file",className:"file-label",children:[D(Tt,{style:{marginRight:"0.5rem"}}),"Upload Image",D("input",{type:"file",onChange:u=>h(u.target.files[0]||null),sx:{marginBottom:d&&"1rem"},id:"file",name:"file",accept:".png,.jpg,.jpeg,.gif,.apng,.webp"})]}),D("div",{sx:{display:"flex",width:"100%",alignItems:"center",justifyContent:"center"},children:D("img",{style:{maxWidth:"100%",borderRadius:"4px"},src:d})})]})}),D("div",{sx:{width:"100%",display:"flex",justifyContent:"flex-end"},children:D(Ht,{type:"primary",style:{alignSelf:"flex-end",boxShadow:"none",width:"fit-content"},onClick:()=>M(),loading:o,disabled:!s,children:"Submit"})})]})})})}export{nr as default};
