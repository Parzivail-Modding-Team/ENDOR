import{r as i,a as x,H as f,b as s,R as o,I as y,aK as g,Q as U,O as S,aL as b,j as v,T as w}from"./index-f79488dc.js";import{l as d}from"./lodash-f1b1c978.js";import{T as E}from"./Table-075808dc.js";import{S as I}from"./index-27683083.js";import{u as T}from"./useMutation-2306ab6e.js";import"./addEventListener-d43927e0.js";import"./useFlexGapSupport-8b11537b.js";import"./index-4ff138c1.js";import"./index-0248928d.js";import"./Overflow-8b08e3b8.js";import"./collapse-97de76d4.js";const R=d.keys(o),j=d.values(o),C=R.map((r,a)=>({label:r,value:j[a]}));function F(){const[r,a]=i.useState(),[l,n]=i.useState(""),{id:c}=x(),{loading:p}=f(g,{onCompleted:e=>{a(e.getUsers)},onError:({graphQLErrors:e})=>{y(e,"users")}}),[m,{loading:u}]=T(b,{onCompleted:e=>{e.updateUser&&U.success("User Updated")},onError:({graphQLErrors:e})=>{S(e,"the user")}});return s("div",{sx:{height:"100%",width:"100%",display:"flex",flexDirection:"column",alignItems:"center"},children:s("div",{sx:{height:"100%",width:"100%",maxWidth:"800px",display:"flex",flexDirection:"column",alignItems:"center"},children:s(E,{tableLayout:"fixed",style:{width:"100%"},columns:[{title:"User ID",dataIndex:"id",defaultSortOrder:"ascend"},{title:"User",defaultSortOrder:"ascend",render:(e,t)=>v("div",{style:{display:"flex",alignItems:"center"},children:[s("img",{style:{width:"19px",height:"19px",borderRadius:"50%",marginRight:"0.5rem"},src:t.avatarUrl}),s(w.Text,{children:t.username})]})},{title:"Actions",render:(e,t)=>s(I,{options:C,style:{width:"150px"},defaultValue:t.role,onSelect:h=>{n(t.id),m({variables:{id:t.id,role:h}})},loading:t.id===l&&u,disabled:t.id===c})}],rowKey:"id",dataSource:r,pagination:!1,loading:p})})})}export{F as default};
